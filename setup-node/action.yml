name: "Setup Node"
inputs:
  node-version:
    description: "Version Spec of the version to use. Examples: 12.x, 10.15.1, >=10.15.0."
    required: true
  npm_access_token:
    description: "Access token for downloading private npm packages from @buoysoftware"
    required: false
runs:
  using: "composite"
  steps:
    - name: Authenticate with private NPM package
      if: ${{ inputs.npm_access_token }}
      run: echo "//registry.npmjs.org/:_authToken=${{ inputs.npm_access_token }}" > ~/.npmrc
      shell: bash

    - uses: actions/setup-node@v3
      with:
        cache: 'yarn'
        node-version: ${{ inputs.node-version }}
